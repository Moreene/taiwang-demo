import{a as u,_ as h,o as n,c,b as a,t as p,e as _,w as l,p as f,g as v,n as d,d as g,F as P,r as w}from"./index-E4fMwN8A.js";import{p as k}from"./productStore-I3Rsrbl8.js";import{c as S}from"./cartStore-xrlW9SI9.js";const C={props:["item"],methods:{...u(k,["getProduct"]),...u(S,["addCart"])}},b=e=>(f("data-v-c7aec39e"),e=e(),v(),e),x={class:"card w-75 w-md-100 mx-auto"},D={class:"card-img-wrapper w-100 rounded-top overflow-hidden"},y=["src","alt"],N={class:"py-16"},T={class:"fs-6 text-center"},z={class:"text-center text-danger fw-bold fs-6 mb-20"},I={class:"text-notoSans"},B={class:"text-center"},V=b(()=>a("i",{class:"bi bi-search text-light"},null,-1)),F=[V];function M(e,t,o,m,s,r){return n(),c("div",x,[a("div",D,[a("img",{src:o.item.imageUrl,class:"w-100 h-100 rounded-top",alt:o.item.title},null,8,y)]),a("div",N,[a("h2",T,p(o.item.title),1),a("p",z,[_("NT$ "),a("span",I,p(o.item.price),1)]),a("div",B,[a("a",{href:"#",class:"btn btn-primary link-light me-8",onClick:t[0]||(t[0]=l(i=>e.addCart(o.item.id),["prevent"]))},"加入購物車"),a("a",{href:"#",class:"btn btn-secondary px-16",onClick:t[1]||(t[1]=l(i=>e.getProduct(o.item.id),["prevent"]))},F)])])])}const J=h(C,[["render",M],["__scopeId","data-v-c7aec39e"]]),$={props:["products"],data(){return{allData:[],pageSize:12,currentPage:0}},methods:{updateShowData(){const e=[];for(let t=0;t<this.pageNum;t++)e[t]=this.allData.slice(this.pageSize*t,this.pageSize*(t+1));this.$emit("updateProducts",e[this.currentPage])},goToPage(e){e>=0&&e<this.pageNum&&(this.currentPage=e,window.scrollTo(0,0),this.updateShowData())},resetPage(){this.currentPage=0,this.updateShowData()}},computed:{pageNum(){return Math.ceil(this.allData.length/this.pageSize)}},watch:{products:{handler(e){this.allData=e,this.updateShowData()},immediate:!0}}},j={"aria-label":"Page navigation",class:"my-4 d-flex justify-content-center"},A={class:"pagination"},E=["onClick"];function L(e,t,o,m,s,r){return n(),c("nav",j,[a("ul",A,[s.allData.length>12?(n(),c("li",{key:0,class:d(["page-item",{disabled:s.currentPage===0}])},[a("a",{class:"page-link",href:"#",onClick:t[0]||(t[0]=l(i=>r.goToPage(s.currentPage-1),["prevent"]))},"«")],2)):g("",!0),(n(!0),c(P,null,w(r.pageNum,i=>(n(),c("li",{class:d(["page-item",{active:i===s.currentPage+1}]),key:i},[a("a",{class:"page-link",href:"#",onClick:l(U=>r.goToPage(i-1),["prevent"])},p(i),9,E)],2))),128)),s.allData.length>12?(n(),c("li",{key:1,class:d(["page-item",{disabled:s.currentPage===r.pageNum-1}])},[a("a",{class:"page-link",href:"#",onClick:t[1]||(t[1]=l(i=>r.goToPage(s.currentPage+1),["prevent"]))},"»")],2)):g("",!0)])])}const K=h($,[["render",L]]);export{J as P,K as a};
