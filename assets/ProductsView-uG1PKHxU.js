import{_ as y,a as C,m as g,h as l,o as r,c as n,i as c,j as k,b as e,n as u,F as d,r as p,f as w,v as x,e as L,t as B}from"./index-nfGaqpL4.js";import{p as P}from"./productStore-OczXxDN9.js";import{c as V}from"./categoryStore--x2sIYQQ.js";import{B as W}from"./BannerComponent-mK4acRZ1.js";import{P as U,a as M}from"./PaginationComponent-pKGm4WHD.js";import{L as T}from"./LoadingComponent-BxtL-W3k.js";import"./axios-G2rPRu76.js";import"./cartStore-wpeZBAL_.js";import"./sweetalert-QEhamgMP.js";import"./sweetalert2.all-RkmYp8LA.js";const S={components:{BannerComponent:W,ProductsCardComponent:U,PaginationComponent:M,LoadingComponent:T},data(){return{sliceProducts:[],keyWord:"",matchProducts:[]}},methods:{...C(P,["getProducts"]),updateProducts(o){this.sliceProducts=o},getMatchProducts(){this.keyWord.trim()!==""?this.matchProducts=this.products.filter(o=>o.title.match(this.keyWord)):this.matchProducts=[]},goTo(o,s){s.target.blur(),this.resetPagination(),o==="products"?(this.keyWord="",this.matchProducts=[],this.$router.push("/products")):(this.keyWord="",this.matchProducts=[],this.$router.push(`/categories/${o}`))},resetPagination(){this.$refs.pagination.resetPage()}},computed:{...g(P,["products","isLoading"]),...g(V,["categories"]),recommendation(){return this.products.filter(o=>o.recommendation)}},created(){this.getProducts()}},j={class:"container"},N={class:"py-72 py-lg-90"},D={class:"d-flex flex-column flex-lg-row justify-content-lg-between mb-48"},F={class:"nav nav-underline flex-nowrap text-nowrap overflow-x-auto mb-16 mb-lg-0",role:"tablist"},R={class:"nav-item",role:"presentation"},z=["id","aria-controls","data-bs-target","onClick"],A={class:"w-75 w-md-50 w-lg-25 d-flex justify-content-lg-end"},E={class:"w-75"},I={class:"tab-content"},q={class:"row gy-48"};function G(o,s,H,J,a,i){const f=l("LoadingComponent"),b=l("BannerComponent"),m=l("ProductsCardComponent"),h=l("PaginationComponent"),_=l("RouterView");return r(),n(d,null,[c(f,{active:o.isLoading,"onUpdate:active":s[0]||(s[0]=t=>o.isLoading=t)},null,8,["active"]),c(b,null,{default:k(()=>[L("線上訂餐 / Menu")]),_:1}),e("div",j,[e("div",N,[e("div",D,[e("ul",F,[e("li",R,[e("button",{class:u(["nav-link fs-6",{active:this.$route.path==="/products"}]),id:"all-tab",type:"button",role:"tab","aria-controls":"all","data-bs-target":"#all","aria-selected":"true",onClick:s[1]||(s[1]=t=>i.goTo("products",t))},"所有餐點",2)]),(r(!0),n(d,null,p(o.categories,t=>(r(),n("li",{key:t,class:"nav-item",role:"presentation"},[e("button",{class:u(["nav-link fs-6",{active:this.$route.path===`/categories/${t.path}`}]),id:t.name+"-tab",type:"button",role:"tab","aria-controls":t.name,"data-bs-target":"#"+t.name,"aria-selected":"false",onClick:v=>i.goTo(t.path,v)},B(t.name),11,z)]))),128))]),e("div",A,[e("div",E,[w(e("input",{type:"text",class:"form-control rounded-0 border-top-0 border-start-0 border-end-0",placeholder:"請輸入關鍵字...","onUpdate:modelValue":s[2]||(s[2]=t=>a.keyWord=t),onInput:s[3]||(s[3]=(...t)=>i.getMatchProducts&&i.getMatchProducts(...t))},null,544),[[x,a.keyWord]])])])]),e("div",I,[e("div",{class:u(["tab-pane show",{active:this.$route.path==="/products"}]),id:"all",role:"tabpanel","aria-labelledby":"all-tab",tabindex:"0"},[e("div",q,[a.matchProducts.length?(r(),n(d,{key:0},[(r(!0),n(d,null,p(a.matchProducts,t=>(r(),n("div",{class:"col-md-4 col-lg-3 mb-48",key:t.id},[c(m,{item:t},null,8,["item"])]))),128)),c(h,{products:a.matchProducts,onUpdateProducts:i.updateProducts,ref:"pagination"},null,8,["products","onUpdateProducts"])],64)):(r(),n(d,{key:1},[(r(!0),n(d,null,p(a.sliceProducts,t=>(r(),n("div",{class:"col-md-4 col-lg-3 mb-48",key:t.id},[c(m,{item:t},null,8,["item"])]))),128)),c(h,{products:o.products,onUpdateProducts:i.updateProducts,ref:"pagination"},null,8,["products","onUpdateProducts"])],64))])],2),c(_,{matchProducts:a.matchProducts},null,8,["matchProducts"])])])])],64)}const st=y(S,[["render",G]]);export{st as default};
