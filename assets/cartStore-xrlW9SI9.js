import{K as i}from"./index-E4fMwN8A.js";import{a as c}from"./axios-G2rPRu76.js";import{t as s}from"./sweetalert-dGW7rouE.js";var p={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"taiwang",VITE_MAP:"AIzaSyB8xClOZxLQMzkbq6jjN2KlrBmFPPJkvEA",BASE_URL:"/taiwang-demo/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:e,VITE_APIPATH:r}=p,h=i("cartStore",{state:()=>({cart:[]}),actions:{getCart(){this.isLoading=!0,c.get(`${e}/api/${r}/cart`).then(t=>{this.cart=t.data.data}).catch(t=>{console.log(t)})},addCart(t,o=1){const a={qty:o,product_id:t};c.post(`${e}/api/${r}/cart`,{data:a}).then(d=>{s("top","success",d.data.message),this.getCart()}).catch(d=>{console.log(d)})},deleteItem(t){const o=t.product.title;c.delete(`${e}/api/${r}/cart/${t.id}`).then(a=>{s("top","warning",`已刪除 "${o}"`),this.getCart()}).catch(a=>{console.log(a)})},increaseCartNum(t){t.qty++;const o={product_id:t.product_id,qty:t.qty};c.put(`${e}/api/${r}/cart/${t.id}`,{data:o}).then(a=>{s("top","success",`已更新 ${t.product.title} 的數量`),this.getCart()}).catch(a=>{console.log(a)})},decreaseCartNum(t){t.qty--;const o={product_id:t.product_id,qty:t.qty};c.put(`${e}/api/${r}/cart/${t.id}`,{data:o}).then(a=>{s("top","success",`已更新 ${t.product.title} 的數量`),this.getCart()}).catch(a=>{console.log(a)})}}});export{h as c};
