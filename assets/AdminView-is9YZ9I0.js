import{_ as h,R as b,h as u,o as f,c as g,b as t,i as s,j as i,F as v,e as r}from"./index-yW_oyohi.js";import{a as c}from"./axios-G2rPRu76.js";import{S as d}from"./sweetalert2.all-WL1I6Ful.js";var k={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"taiwang",VITE_MAP:"AIzaSyB8xClOZxLQMzkbq6jjN2KlrBmFPPJkvEA",BASE_URL:"/taiwang-demo/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:m}=k,x={components:{RouterLink:b},methods:{checkLogin(){c.post(`${m}/api/user/check`).then(e=>{this.isShow=!0}).catch(e=>{d.fire({icon:"error",title:"您沒有權限進入!",showConfirmButton:!0}),this.$router.push("/adminLogin")})},logout(){const e=d.mixin({customClass:{confirmButton:"btn btn-primary text-light",cancelButton:"btn btn-outline-danger me-16"},buttonsStyling:!1});e.fire({title:"即將登出後台!",icon:"warning",showCancelButton:!0,cancelButtonText:"不要登出",confirmButtonText:"是，我要登出",reverseButtons:!0}).then(o=>{o.isConfirmed&&(e.fire({title:"即將登出!",icon:"success",timer:2e3}),setTimeout(()=>{c.post(`${m}/logout`).then(n=>{document.cookie="myToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC;",this.$router.push("/adminLogin")}).catch(n=>{this.$swal({icon:"error",title:n.response.data.message,showConfirmButton:!0})})},500))})}},mounted(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*\=\s*([^;]*).*$)|^.*$/,"$1");c.defaults.headers.common.Authorization=e,this.checkLogin()}},B={class:"navbar navbar-expand-md bg-dark py-16 fixed-top","data-bs-theme":"dark"},w={class:"container"},y=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),T={class:"collapse navbar-collapse",id:"navbarSupportedContent"},C={class:"navbar-nav me-auto mb-16 mb-md-0"},S={class:"nav-item"},V=t("i",{class:"bi bi-box-seam"},null,-1),A={class:"nav-item"},$=t("i",{class:"bi bi-box-seam"},null,-1),E={class:"nav-item"},L=t("i",{class:"bi bi-box-seam"},null,-1);function R(e,o,n,I,P,l){const a=u("RouterLink"),p=u("RouterView");return f(),g(v,null,[t("nav",B,[t("div",w,[y,t("div",T,[t("ul",C,[t("li",S,[s(a,{to:"/admin/products",class:"nav-link py-16 py-md-0 ps-0 fs-6"},{default:i(()=>[V,r(" 餐點列表 ")]),_:1})]),t("li",A,[s(a,{to:"/admin/orders",class:"nav-link py-16 py-md-0 fs-6"},{default:i(()=>[$,r(" 訂單列表 ")]),_:1})]),t("li",E,[s(a,{to:"/admin/coupon",class:"nav-link py-16 py-md-0 fs-6"},{default:i(()=>[L,r(" 優惠列表 ")]),_:1})])]),t("button",{type:"button",class:"btn btn-outline-light fs-6",onClick:o[0]||(o[0]=(..._)=>l.logout&&l.logout(..._))},"登出")])])]),s(p)],64)}const D=h(x,[["render",R]]);export{D as default};
